(self.webpackChunkmfeReports=self.webpackChunkmfeReports||[]).push([[76],{176:(d,i,n)=>{n.r(i),n.d(i,{remoteRoutes:()=>l});const l=[{path:"",component:n(2454).a}]},2454:(d,i,n)=>{n.d(i,{a:()=>E});var p=n(7603),l=n(5105),s=n(3634),e=n(541);let m=(()=>{class r{constructor(t){this.http=t,this.apiUrl="http://localhost:8000/api"}getReports(t,o){let a=(new l.HttpParams).set("user_id",t);return o&&(a=a.set("report_type",o)),this.http.get(`${this.apiUrl}/reports`,{params:a}).pipe((0,s.catchError)(v=>(console.error("Error fetching reports:",v),(0,s.throwError)(()=>new Error("Failed to fetch reports. Please try again.")))))}getReportById(t){return this.http.get(`${this.apiUrl}/reports/${t}`).pipe((0,s.catchError)(o=>(console.error(`Error fetching report ${t}:`,o),(0,s.throwError)(()=>new Error("Failed to fetch the report. Please try again.")))))}createReport(t){return t.name||(t.name=`${t.report_type} Report ${(new Date).toISOString().split("T")[0]}`),this.http.post(`${this.apiUrl}/reports`,t).pipe((0,s.catchError)(o=>(console.error("Error creating report:",o),(0,s.throwError)(()=>new Error("Failed to create the report. Please try again.")))))}deleteReport(t){return this.http.delete(`${this.apiUrl}/reports/${t}`).pipe((0,s.catchError)(o=>(console.error(`Error deleting report ${t}:`,o),(0,s.throwError)(()=>new Error("Failed to delete the report. Please try again.")))))}static{this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function f(r,c){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Loading reports data..."),e.\u0275\u0275elementEnd())}function u(r,c){if(1&r&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t.error)}}function g(r,c){if(1&r&&(e.\u0275\u0275elementStart(0,"div")(1,"p"),e.\u0275\u0275text(2,"Reports loaded successfully! Check the console for details."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Total reports: ",t.reportsCount,"")}}let E=(()=>{class r{constructor(t){this.reportsService=t,this.loading=!0,this.error=null,this.reportsCount=0,this.userId="550e8400-e29b-41d4-a716-446655440001"}ngOnInit(){this.fetchReports()}fetchReports(){this.loading=!0,this.error=null,this.reportsService.getReports(this.userId).subscribe({next:t=>{console.log("Reports retrieved successfully:",t),this.reportsCount=t.length,this.loading=!1},error:t=>{console.error("Error fetching reports:",t),this.error="Failed to load reports from the API server at http://localhost:8000/api/reports",this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(m))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-mfe-reports-entry"]],decls:6,vars:3,consts:[[1,"reports-container"],[4,"ngIf"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1"),e.\u0275\u0275text(2,"Reports Dashboard"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,f,2,0,"div",1)(4,u,2,1,"div",2)(5,g,5,1,"div",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.loading),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",a.error),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!a.loading&&!a.error))},dependencies:[p.CommonModule,p.NgIf],styles:[".reports-container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.error-message[_ngcontent-%COMP%]{color:red;padding:10px;background-color:#fee;border-radius:4px}"]})}}return r})()}}]);